window.dash_clientside=Object.assign({},window.dash_clientside,{clientside_2:{make_radial_indicator:function(bar_div_id,temperature){var el=document.getElementById(bar_div_id);var options={color:el.getAttribute('data-color')||'#555555',bg_color:el.getAttribute('data-bgcolor')||'#123456',bar_width:el.getAttribute('data-width')||10,radius:el.getAttribute('data-radius')||50,unit:el.getAttribute('data-unit')||'%',}
console.log(temperature);if(el.childElementCount>0){el.innerHTML="";}
var radialObj=radialIndicator('#'+bar_div_id,{radius:options.radius,barColor:options.color,barBgColor:options.bg_color,barWidth:options.bar_width,minValue:temperature.min,maxValue:temperature.max,initValue:temperature.old,roundCorner:true,displayNumber:((temperature.display)?true:false),format:'####.## '+options.unit});radialObj.animate(temperature.new);}}});;(function(factory){const global=Function('return this')()||(42,eval)('this');if(typeof define==='function'&&define.amd){define(['jquery'],function($){return(global.radialIndicator=factory($,global));});}else if(typeof module==='object'&&module.exports){module.exports=global.document?factory(require('jquery'),global):function(w){if(!w.document){throw new Error('radialIndiactor requires a window with a document');}
return factory(require('jquery')(w),w);};}else{global.radialIndicator=factory(global.jQuery,global);}}(function($,window,undef){const document=window.document;const circ=Math.PI*2;const quart=Math.PI/2;const smoothCanvas=(function(){const ctx=document.createElement('canvas').getContext('2d');const dpr=window.devicePixelRatio||1;const bsr=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1;const ratio=dpr/bsr;return function(w,h,canvasElm){const can=canvasElm||document.createElement('canvas');can.width=w*ratio;can.height=h*ratio;can.style.width=w+'px';can.style.height=h+'px';can.getContext('2d').setTransform(ratio,0,0,ratio,0,0);return can;};}());function hexToRgb(hex){const shorthandRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;hex=hex.replace(shorthandRegex,function(m,r,g,b){return r+r+g+g+b+b;});const result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]:null;}
function getPropVal(curShift,perShift,bottomRange,topRange){return Math.round(bottomRange+((topRange-bottomRange)*curShift/perShift));}
function getCurrentColor(curPer,bottomVal,topVal,bottomColor,topColor){const rgbAryTop=topColor.indexOf('#')!==-1?hexToRgb(topColor):topColor.match(/\d+/g);const rgbAryBottom=bottomColor.indexOf('#')!==-1?hexToRgb(bottomColor):bottomColor.match(/\d+/g);const perShift=topVal-bottomVal;const curShift=curPer-bottomVal;if(!rgbAryTop||!rgbAryBottom)return null;return'rgb('+getPropVal(curShift,perShift,rgbAryBottom[0],rgbAryTop[0])+','+getPropVal(curShift,perShift,rgbAryBottom[1],rgbAryTop[1])+','+getPropVal(curShift,perShift,rgbAryBottom[2],rgbAryTop[2])+')';}
function merge(){const arg=arguments;const target=arg[0];for(let i=1,ln=arg.length;i<ln;i++){const obj=arg[i];for(const k in obj){if(Object.prototype.hasOwnProperty.call(obj,k)){target[k]=obj[k];}}}
return target;}
function formatter(pattern,precision){return function(num){if(!pattern||pattern.length===0)return num.toFixed(precision).toString();const patternDigitsDecimals=pattern.split('.');const patternDecimals=patternDigitsDecimals.length>1?patternDigitsDecimals[1].replace(/[^#]/g,'').length:0;let number=num||0;if(pattern.includes('.')){number=parseFloat(number).toFixed(patternDecimals);const numSplit=number.toString().split('.');const digits=replaceHashes(patternDigitsDecimals[0],parseFloat(numSplit[0]).toFixed(0));const decimals=replaceHashes(patternDigitsDecimals[1],numSplit[1]);return`${digits}.${decimals}`;}
return replaceHashes(pattern,parseFloat(number).toFixed(0));};}
function replaceHashes(pattern,num){const numRev=num.toString().split(new RegExp('(-?[0-9])','g')).filter(d=>d!=='').reverse();const output=pattern.split('').reverse();let i=0;let lastHashReplaced=0;for(let ln=output.length;i<ln;i++){if(!numRev.length)break;if(output[i]==='#'){lastHashReplaced=i;output[i]=numRev.shift();}}
output.splice(lastHashReplaced+1,output.lastIndexOf('#')-lastHashReplaced,numRev.reverse().join(''));return output.reverse().join('');}
function Indicator(container,indOption){const self=this;indOption=indOption||{};indOption=merge({},radialIndicator.defaults,indOption);this.indOption=indOption;if(typeof container==='string'){container=document.querySelector(container);}
if(container.length){container=container[0];}
this.container=container;const canElm=document.createElement('canvas');container.appendChild(canElm);this.canElm=canElm;this.ctx=canElm.getContext('2d');this.current_value=indOption.initValue||indOption.minValue||0;const startListener=function(e){if(!indOption.interaction)return;const touchMove=e.type==='touchstart'?'touchmove':'mousemove';const touchEnd=e.type==='touchstart'?'touchend':'mouseup';const position=canElm.getBoundingClientRect();const cy=position.top+canElm.offsetHeight/2;const cx=position.left+canElm.offsetWidth/2;const moveListener=function(e){e.preventDefault();const mx=e.clientX||e.touches[0].clientX;const my=e.clientY||e.touches[0].clientY;const radian=(circ+quart+Math.atan2((my-cy),(mx-cx)))%(circ+0.0175);const radius=(indOption.radius-1+indOption.barWidth/2);const circum=circ*radius;const precision=indOption.precision!=null?indOption.precision:0;const precisionNo=Math.pow(10,precision);const val=Math.round(precisionNo*radian*radius*(indOption.maxValue-indOption.minValue)/circum)/precisionNo;self.value(val);};const endListener=function(){document.removeEventListener(touchMove,moveListener,false);document.removeEventListener(touchEnd,endListener,false);};document.addEventListener(touchMove,moveListener,false);document.addEventListener(touchEnd,endListener,false);};canElm.addEventListener('touchstart',startListener,false);canElm.addEventListener('mousedown',startListener,false);canElm.addEventListener('mousewheel',MouseWheelHandler,false);canElm.addEventListener('DOMMouseScroll',MouseWheelHandler,false);function MouseWheelHandler(e){if(!indOption.interaction)return;e.preventDefault();const delta=-(Math.max(-1,Math.min(1,(e.wheelDelta||-e.detail))));const precision=indOption.precision!=null?indOption.precision:0;const precisionNo=Math.pow(10,precision);const diff=indOption.maxValue-indOption.minValue;const val=self.current_value+Math.round(precisionNo*delta*diff/Math.min(diff,100))/precisionNo;self.value(val);return false;}}
Indicator.prototype={constructor:radialIndicator,_init:function(){const indOption=this.indOption;const canElm=this.canElm;const dim=(indOption.radius+indOption.barWidth)*2;this.formatter=typeof indOption.format==='function'?indOption.format:formatter(indOption.format);this.maxLength=indOption.percentage?4:this.formatter(indOption.maxValue).length;smoothCanvas(dim,dim,canElm);this._drawBarBg();this.value(this.current_value);return this;},_drawBarBg:function(){const indOption=this.indOption;const ctx=this.ctx;const dim=(indOption.radius+indOption.barWidth)*2;const center=dim/2;ctx.strokeStyle=indOption.barBgColor;ctx.lineWidth=indOption.barWidth;if(indOption.barBgColor!=='transparent'){ctx.beginPath();ctx.arc(center,center,indOption.radius-1+indOption.barWidth/2,0,2*Math.PI);ctx.stroke();}},value:function(val){if(val===undef||isNaN(val)){return this.current_value;}
val=parseFloat(val);const ctx=this.ctx;const indOption=this.indOption;const dim=(indOption.radius+indOption.barWidth)*2;const minVal=indOption.minValue;const maxVal=indOption.maxValue;const center=dim/2;let curColor=indOption.barColor;val=val<minVal?minVal:val>maxVal?maxVal:val;const precision=indOption.precision!=null?indOption.precision:0;const precisionNo=Math.pow(10,precision);const perVal=(((val-minVal)*precisionNo/(maxVal-minVal))*100)/precisionNo;const dispVal=indOption.percentage?perVal.toFixed(precision)+'%':this.formatter(val,precision);this.current_value=val;ctx.clearRect(0,0,dim,dim);this._drawBarBg();if(typeof curColor==='object'){const range=Object.keys(curColor);for(let i=1,ln=range.length;i<ln;i++){const bottomVal=range[i-1];const topVal=range[i];const bottomColor=curColor[bottomVal];const topColor=curColor[topVal];let newColor;if(val.toString()===bottomVal){newColor=bottomColor;}else{if(val.toString()===topVal){newColor=topColor;}else{if(val>bottomVal&&val<topVal){newColor=indOption.interpolate?getCurrentColor(val,bottomVal,topVal,bottomColor,topColor):topColor;}else{newColor=false;}}}
if(newColor!==false){curColor=newColor;break;}}}
ctx.strokeStyle=curColor;if(indOption.roundCorner)ctx.lineCap='round';ctx.beginPath();let start,end;if(indOption.reverse){start=circ*((100-perVal)/100)-quart;end=-quart-0.00001;}else{start=-quart;end=(circ*perVal)/100-quart;}
ctx.arc(center,center,indOption.radius-1+indOption.barWidth/2,start,end,false);ctx.stroke();if(indOption.displayNumber){let cFont=ctx.font.split(' ');const weight=indOption.fontWeight;const fontSize=indOption.fontSize||dim/(this.maxLength-(Math.floor((this.maxLength*1.4)/4)-1));cFont=indOption.fontFamily||cFont[cFont.length-1];ctx.fillStyle=indOption.fontColor||curColor;ctx.font=weight+' '+fontSize+'px '+cFont;ctx.textAlign='center';ctx.textBaseline=indOption.textBaseline;ctx.fillText(dispVal,center,center);}
indOption.onChange.call(this.container,val);return this;},animate:function(val,animationDuration){const indOption=this.indOption;const startingPoint=this.current_value;const self=this;const minVal=indOption.minValue;const maxVal=indOption.maxValue;const frameNum=indOption.frameNum||(indOption.percentage?100:500);let counter=this.current_value;val=val<minVal?minVal:val>maxVal?maxVal:val;const back=val<counter;const valDelta=Math.abs(this.current_value-val);const minMaxDelta=Math.abs(maxVal-minVal);const valDeltaMultiplier=valDelta/minMaxDelta;const calcDuration=animationDuration||indOption.duration*valDeltaMultiplier||indOption.frameTime*frameNum*valDeltaMultiplier;let start;const processAnimation=now=>{if(!start)start=now;const runtime=now-start;const progress=runtime/calcDuration;const step=valDelta*indOption.easing(progress);counter=back?startingPoint-step:startingPoint+step;this.value(counter);if(runtime>=calcDuration){this.value(val);cancelAnimationFrame(processAnimation);if(indOption.onAnimationComplete)indOption.onAnimationComplete(self.current_value);}else{requestAnimationFrame(processAnimation);}};requestAnimationFrame(processAnimation);return this;},option:function(key,val){if(val===undef)return this.option[key];if(['radius','barWidth','barBgColor','format','maxValue','percentage'].indexOf(key)!==-1){this.indOption[key]=val;this._init().value(this.current_value);}
this.indOption[key]=val;},};function radialIndicator(container,options){const progObj=new Indicator(container,options);progObj._init();return progObj;}
radialIndicator.defaults={reverse:false,radius:50,barWidth:5,barBgColor:'#eeeeee',barColor:'#99CC33',format:null,duration:null,frameTime:10,frameNum:null,fontColor:null,fontFamily:null,fontWeight:'bold',fontSize:null,textBaseline:'middle',interpolate:true,percentage:false,precision:null,displayNumber:true,roundCorner:false,minValue:0,maxValue:100,initValue:0,interaction:false,easing:(y)=>{return y;},onChange:function(){},};window.radialIndicator=radialIndicator;if($){$.fn.radialIndicator=function(options){return this.each(function(){const newPCObj=radialIndicator(this,options);$.data(this,'radialIndicator',newPCObj);});};}
return radialIndicator;}));function sidebar_open(){document.getElementById("main").classList.remove('sidebar-closed');document.getElementById("page_sidebar").classList.remove('sidebar-closed');document.getElementById("open_sidebar").classList.remove('sidebar-closed');document.getElementById("main").classList.add('sidebar-open');document.getElementById("page_sidebar").classList.add('sidebar-open');document.getElementById("open_sidebar").classList.add('sidebar-open');}
function sidebar_close(){document.getElementById("main").classList.remove('sidebar-open');document.getElementById("page_sidebar").classList.remove('sidebar-open');document.getElementById("open_sidebar").classList.remove('sidebar-open');document.getElementById("main").classList.add('sidebar-closed');document.getElementById("page_sidebar").classList.add('sidebar-closed');document.getElementById("open_sidebar").classList.add('sidebar-closed');}